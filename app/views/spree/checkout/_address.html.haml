#create_billing_address.row
  .col-md-6.event_left_block
    = form.fields_for :bill_address do |form|
      - address_type = 'billing'; address = @order.bill_address
      .row
        .col-md-12
          %form{:role => "form"}
            .col-md-6
              %label
              = form.text_field :firstname,value:   spree_current_user.try(:first_name), class: 'form-control' ,placeholder: 'First Name*' ,required: true ,autofocus: true
            .col-md-6
              %label
              = form.text_field :lastname,value: spree_current_user.try(:last_name), class: 'form-control' ,placeholder: 'Last Name*' ,required: true
            .col-md-6
              %label
              = form.text_field :address1, class: 'form-control' ,placeholder: 'Street Address1*' ,required: true
            .col-md-6
              %label
              = form.text_field :address2, class: 'form-control' ,placeholder: 'Street Address2'
            .col-md-6
              %label
              = form.collection_select :country_id, available_countries, :id, :name, {}, {:class => 'form-control',required: true}
            .col-md-6
              %label
              - if Spree::Config[:address_requires_state]
                = form.collection_select(:state_id, address.country.states, :id, :name, {:include_blank => "Select State"}, {class: 'form-control' })
            .col-md-6
              %label
              = form.text_field :city, class: 'form-control' ,placeholder: 'City*' ,required: true
            .col-md-6
              %label
              = form.text_field :zipcode, class: 'form-control' ,required: true ,placeholder: 'Zipcode*'
            - unless Spree::Config[:alternative_shipping_phone]
              .col-md-6
                %label
                = form.phone_field :phone, class: 'form-control' ,placeholder: "Phone Number*"  ,required: true
              .col-md-6
                %label
                = form.phone_field :alternative_phone, class: 'form-control' ,placeholder: "Alt Phone Number"
            - else
              .col-md-12
                %label
                = form.phone_field :alternative_phone, class: 'form-control' ,placeholder: "Alt Phone Number"
            - if try_spree_current_user
              = hidden_field_tag 'save_user_address', '1'
            .col-md-12
              %label
              = submit_tag Spree.t(:save_and_continue), :class => 'btn btn-lg btn-primary btn-block',disable_with: 'please wait..'
  .col-md-6.event_right_block
    - @event = Event.find(session[:event_id]) if session[:event_id].present?
    %h4 Shipping Address
    - if @event and @event.ship_address
      - ship_address = @event.ship_address
      .row
        .col-md-12
          %ul.venue_ctc_details
            %li
              %span.glyphicon.glyphicon-user
              %b #{ship_address.full_name}
            %li #{ship_address.address1},#{ship_address.address2},
            %li #{ship_address.city}, #{ship_address.state.name},
            %li #{ship_address.country.name}, #{ship_address.zipcode}
            %li
              %span.glyphicon.glyphicon-earphone
              \&nbsp; #{ship_address.phone}
            - unless ship_address.alternative_phone.blank?
              %li
                %span.glyphicon.glyphicon-phone
                \&nbsp; #{ship_address.alternative_phone}
:javascript
  $("#order_bill_address_attributes_country_id").change(function(){
      country= $(this).val()
      $.ajax({
          type: "GET",
          url: "/country/get-states/"+country,
          success: function(json){
              $('#order_bill_address_attributes_state_id').empty()
              $.each(json, function(i, value) {
                  $('#order_bill_address_attributes_state_id').append($('<option>').text(value.name).attr('value', value.id));
              });
          }
      });
  });