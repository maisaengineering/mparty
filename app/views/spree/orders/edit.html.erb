<% @body_id = 'cart' %>
<div class="container">
  <div class="row">
  <h3><%= Spree.t(:shopping_cart) %></h3>
  <% if @order.line_items.empty? %>
      <div data-hook="empty_cart">
        <p><%= Spree.t(:your_cart_is_empty) %></p>
        <p><%= link_to Spree.t(:continue_shopping), products_path, :class => 'button continue' %></p>
      </div>
  <% else %>
      <%= form_for @order, :url => update_cart_path, :html => {:id => 'update-cart',class: 'form_margin'} do |order_form| %>
          <%= render :partial => 'form', :locals => { :order_form => order_form } %>

          <%= button_tag :class => 'addcart_btn', :id => 'checkout-link', :name => 'checkout' do %>
              <%= Spree.t(:checkout) %>
          <% end %>

          <%= button_tag :class => 'addcart_btn', :id => 'update-button' do %>
              <%= Spree.t(:update) %>
          <% end %>

          <div class="shp_cart_input"> <%= order_form.text_field :coupon_code, :placeholder => Spree.t(:coupon_code) %></div>
      <% end %>

      <% if !session[:event_id].present? %>
          <div id="empty-cart" data-hook>
            <%= form_tag empty_cart_path, :method => :put do %>
                <p id="clear_cart_link" data-hook>
                  <%= submit_tag Spree.t(:empty_cart), :class => 'button gray' %>
                  <%= Spree.t(:or) %>
                  <%= link_to Spree.t(:continue_shopping), products_path, :class => 'continue button gray' %>
                </p>
            <% end %>
          </div>
      <% end %>
  <% end %>
  </div>
</div>